{"ast":null,"code":"import _asyncToGenerator from \"D:/PWS/WareHouseManagement/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { MatTableDataSource } from '@angular/material/table';\nimport Swal from 'sweetalert2';\nimport * as XLSX from 'xlsx';\nimport * as Papa from 'papaparse';\nimport * as pdfMake from 'pdfmake/build/pdfmake';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/input\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/table\";\nimport * as i8 from \"@angular/material/card\";\nfunction FinalizeReceivingComponent_div_0_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"Packs\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeReceivingComponent_div_0_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r21.packs, \" \");\n  }\n}\nfunction FinalizeReceivingComponent_div_0_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"Pk. Ty\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeReceivingComponent_div_0_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 23);\n    i0.ɵɵtext(1, \"PKG \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeReceivingComponent_div_0_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"Length\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeReceivingComponent_div_0_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r25 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r25.lngth, \" \");\n  }\n}\nfunction FinalizeReceivingComponent_div_0_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"Width\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeReceivingComponent_div_0_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r27 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r27.width, \" \");\n  }\n}\nfunction FinalizeReceivingComponent_div_0_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"Height\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeReceivingComponent_div_0_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r29 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r29.height);\n  }\n}\nfunction FinalizeReceivingComponent_div_0_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"UD\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeReceivingComponent_div_0_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r31 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r31.dunit);\n  }\n}\nfunction FinalizeReceivingComponent_div_0_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"Weight\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeReceivingComponent_div_0_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r33 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r33.wght);\n  }\n}\nfunction FinalizeReceivingComponent_div_0_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"UW\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeReceivingComponent_div_0_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r35 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r35.wunit);\n  }\n}\nfunction FinalizeReceivingComponent_div_0_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \"Goods Description\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeReceivingComponent_div_0_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 23)(1, \"input\", 24);\n    i0.ɵɵlistener(\"ngModelChange\", function FinalizeReceivingComponent_div_0_td_34_Template_input_ngModelChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r40);\n      const element_r37 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(element_r37.gooddesc = $event);\n    })(\"input\", function FinalizeReceivingComponent_div_0_td_34_Template_input_input_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r40);\n      const element_r37 = restoredCtx.$implicit;\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r41.handleGooddescInput($event, element_r37.rcpNumber));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r37 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", element_r37.gooddesc);\n  }\n}\nfunction FinalizeReceivingComponent_div_0_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 25);\n  }\n}\nfunction FinalizeReceivingComponent_div_0_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 26);\n  }\n}\nfunction FinalizeReceivingComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"mat-card\", 2)(2, \"mat-card-content\", 3)(3, \"div\", 4);\n    i0.ɵɵelement(4, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵtext(6, \" Finalize Receiving \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"table\", 7);\n    i0.ɵɵelementContainerStart(8, 8);\n    i0.ɵɵtemplate(9, FinalizeReceivingComponent_div_0_th_9_Template, 2, 0, \"th\", 9);\n    i0.ɵɵtemplate(10, FinalizeReceivingComponent_div_0_td_10_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(11, 11);\n    i0.ɵɵtemplate(12, FinalizeReceivingComponent_div_0_th_12_Template, 2, 0, \"th\", 9);\n    i0.ɵɵtemplate(13, FinalizeReceivingComponent_div_0_td_13_Template, 2, 0, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(14, 12);\n    i0.ɵɵtemplate(15, FinalizeReceivingComponent_div_0_th_15_Template, 2, 0, \"th\", 9);\n    i0.ɵɵtemplate(16, FinalizeReceivingComponent_div_0_td_16_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(17, 13);\n    i0.ɵɵtemplate(18, FinalizeReceivingComponent_div_0_th_18_Template, 2, 0, \"th\", 9);\n    i0.ɵɵtemplate(19, FinalizeReceivingComponent_div_0_td_19_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(20, 14);\n    i0.ɵɵtemplate(21, FinalizeReceivingComponent_div_0_th_21_Template, 2, 0, \"th\", 9);\n    i0.ɵɵtemplate(22, FinalizeReceivingComponent_div_0_td_22_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(23, 15);\n    i0.ɵɵtemplate(24, FinalizeReceivingComponent_div_0_th_24_Template, 2, 0, \"th\", 9);\n    i0.ɵɵtemplate(25, FinalizeReceivingComponent_div_0_td_25_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(26, 16);\n    i0.ɵɵtemplate(27, FinalizeReceivingComponent_div_0_th_27_Template, 2, 0, \"th\", 9);\n    i0.ɵɵtemplate(28, FinalizeReceivingComponent_div_0_td_28_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(29, 17);\n    i0.ɵɵtemplate(30, FinalizeReceivingComponent_div_0_th_30_Template, 2, 0, \"th\", 9);\n    i0.ɵɵtemplate(31, FinalizeReceivingComponent_div_0_td_31_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(32, 18);\n    i0.ɵɵtemplate(33, FinalizeReceivingComponent_div_0_th_33_Template, 2, 0, \"th\", 9);\n    i0.ɵɵtemplate(34, FinalizeReceivingComponent_div_0_td_34_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(35, FinalizeReceivingComponent_div_0_tr_35_Template, 1, 0, \"tr\", 19);\n    i0.ɵɵtemplate(36, FinalizeReceivingComponent_div_0_tr_36_Template, 1, 0, \"tr\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function FinalizeReceivingComponent_div_0_Template_button_click_37_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.updateLocationAndDescription());\n    });\n    i0.ɵɵtext(38, \" UPDATE \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"dataSource\", ctx_r0.dataSource);\n    i0.ɵɵadvance(28);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r0.displayedColumns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r0.displayedColumns);\n  }\n}\nexport class FinalizeReceivingComponent {\n  constructor(apiService, router) {\n    this.apiService = apiService;\n    this.router = router;\n    this.shipmentNo = \"\";\n    this.dataSource = new MatTableDataSource();\n    this.displayedColumns = ['pks', 'type', 'lngth', 'width', 'height', 'dunit', 'wght', 'wunit', 'gooddesc'];\n    this.totalRecords = 0;\n    this.rcpNumber = \"\";\n    this.gooddescValue = \"\";\n    const navigation = this.router.getCurrentNavigation();\n    if (navigation && navigation.extras.state) {\n      this.shipmentNo = navigation.extras.state['ShipmentNumber'];\n    }\n  }\n  ngOnInit() {\n    this.getFinalizeDetailById(this.shipmentNo);\n  }\n  getFinalizeDetailById(shipmentNo) {\n    this.apiService.getShipmentsById(shipmentNo).subscribe(response => {\n      this.transformData(response.items[0]);\n      this.totalRecords = response.totalCount;\n      console.log('details data ' + response.items);\n    });\n  }\n  transformData(data) {\n    debugger;\n    const displayedItems = [];\n    const dimensionCollection = data.dimensionCollection;\n    const weightCollection = data.weightCollection;\n    if (dimensionCollection) {\n      // Create a map to group items by their dimensions\n      const dimensionMap = new Map();\n      dimensionCollection.forEach((dimensionItem, index) => {\n        // Generate a key for the current dimensions\n        const key = `${dimensionItem.lngth}-${dimensionItem.width}-${dimensionItem.height}-${dimensionItem.dUnit}`;\n        // Check if an item with the same dimensions exists in the map\n        if (dimensionMap.has(key)) {\n          // If exists, update weight and packs\n          const existingItem = dimensionMap.get(key);\n          existingItem.wght += weightCollection[index]?.wght || 0;\n          existingItem.packs++;\n        } else {\n          // If not, create a new item and add it to the map\n          const newItem = {\n            packs: 1,\n            lngth: dimensionItem.lngth,\n            width: dimensionItem.width,\n            height: dimensionItem.height,\n            dunit: dimensionItem.dUnit,\n            wght: weightCollection[index]?.wght || 0,\n            wunit: weightCollection[index]?.wUnit || '',\n            locn: dimensionItem.locn,\n            gooddesc: dimensionItem.goodDesc,\n            rcpNumber: dimensionItem.rcptNmbr\n          };\n          dimensionMap.set(key, newItem);\n        }\n      });\n      // Convert the map values to an array\n      displayedItems.push(...dimensionMap.values());\n    }\n    this.dataSource.data = displayedItems;\n  }\n  handleGooddescInput(event, rcpNumber) {\n    debugger;\n    const inputElement = event.target;\n    this.gooddescValue = inputElement.value;\n    this.rcpNumber = rcpNumber;\n  }\n  //update method\n  updateLocationAndDescription() {\n    this.apiService.updateLocationAndDescription(\"\", this.gooddescValue, this.rcpNumber, this.shipmentNo).subscribe(reponse => {\n      this.gooddescValue = \"\";\n      this.rcpNumber = \"\";\n      this.succesToast();\n    });\n  }\n  exportToExcel() {\n    const ws = XLSX.utils.json_to_sheet(this.dataSource.data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'data');\n    XLSX.writeFile(wb, 'table_data.xlsx');\n  }\n  exportToCSV() {\n    const csv = Papa.unparse(this.dataSource.data);\n    const blob = new Blob([csv], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const link = document.createElement('a');\n    if (link.download !== undefined) {\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', 'table_data.csv');\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  }\n  succesToast() {\n    return _asyncToGenerator(function* () {\n      const Toast = Swal.mixin({\n        toast: true,\n        position: 'top',\n        showConfirmButton: false,\n        timer: 3000,\n        timerProgressBar: true,\n        didOpen: toast => {\n          toast.addEventListener('mouseenter', Swal.stopTimer);\n          toast.addEventListener('mouseleave', Swal.resumeTimer);\n        }\n      });\n      Toast.fire({\n        icon: 'success',\n        title: 'Updated Uploaded Successfully'\n      });\n    })();\n  }\n  generatePdf() {\n    const tableBody = this.dataSource.data.map(item => [item.packs, item.lngth, item.width, item.height, item.wght]);\n    const pdfDefinition = {\n      pageSize: 'A4',\n      pageMargins: [40, 50, 40, 40],\n      defaultStyle: {\n        columnGap: 10\n      },\n      header: {\n        alignment: 'center',\n        text: 'Project: 2023-2024 WINTER CLOTHES',\n        style: 'header'\n      },\n      content: [{\n        columns: [{\n          text: 'P.O.',\n          style: 'subheader'\n        }, {\n          alignment: 'center',\n          text: 'Truck # 55',\n          style: 'subheader'\n        }, {\n          alignment: 'center',\n          text: 'Supplier: ROYER',\n          style: 'subheader'\n        }, {\n          alignment: 'center',\n          text: 'DATE: 31-1-24',\n          style: 'subheader'\n        }]\n      }, {\n        block: {\n          margin: [0, 60, 0, 0]\n        },\n        table: {\n          widths: ['*', '*', '*', '*', '*'],\n          body: [['PLT', 'L', 'W', 'H', 'Weight'], ...tableBody\n          // ['1', '48\\'', '40\"', '86', '169', '27'],\n          // ['2', '84', '174', '28', '3', '85'],\n          // ['22', '87', '259', '23', '87', '238'],\n          // ['23', '87', '238', '24', '85', '243'],\n          // ['24', '85', '243', '25', '83', '202'],\n          // ['25', '83', '202', '6', '87', '27']\n          ]\n        }\n      }],\n\n      styles: {\n        header: {\n          bold: true,\n          fontSize: 14\n        },\n        subheader: {\n          fontSize: 12\n        }\n      }\n    };\n    pdfMake.createPdf(pdfDefinition).download('Table.pdf');\n  }\n  static #_ = this.ɵfac = function FinalizeReceivingComponent_Factory(t) {\n    return new (t || FinalizeReceivingComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FinalizeReceivingComponent,\n    selectors: [[\"app-finalize-receiving\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"table-container\", 4, \"ngIf\"], [1, \"table-container\"], [1, \"card-bg\"], [1, \"card-content\"], [1, \"logo-container\"], [\"src\", \"\\\\assets\\\\logo-img.png\", \"alt\", \"Logo\", 1, \"logo\"], [1, \"text-container\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"pks\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-footer-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"type\"], [\"matColumnDef\", \"lngth\"], [\"matColumnDef\", \"width\"], [\"matColumnDef\", \"height\"], [\"matColumnDef\", \"dunit\"], [\"matColumnDef\", \"wght\"], [\"matColumnDef\", \"wunit\"], [\"matColumnDef\", \"gooddesc\"], [\"mat-header-row\", \"\", \"class\", \"header-row\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"update-button\", 3, \"click\"], [\"mat-header-cell\", \"\"], [\"mat-footer-cell\", \"\"], [\"matInput\", \"\", \"type\", \"text\", 1, \"editable-input\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"mat-header-row\", \"\", 1, \"header-row\"], [\"mat-row\", \"\"]],\n    template: function FinalizeReceivingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, FinalizeReceivingComponent_div_0_Template, 39, 3, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.dataSource);\n      }\n    },\n    dependencies: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.MatInput, i6.MatButton, i7.MatTable, i7.MatHeaderCellDef, i7.MatHeaderRowDef, i7.MatColumnDef, i7.MatCellDef, i7.MatRowDef, i7.MatHeaderCell, i7.MatFooterCell, i7.MatHeaderRow, i7.MatRow, i8.MatCard, i8.MatCardContent],\n    styles: [\".table-container[_ngcontent-%COMP%] {\\n    display:block;\\n    justify-content: center;\\n    align-items: center;\\n    height: 40vh;\\n    width: 100%;\\n    color:black;\\n    padding-left:0%;\\n  }\\n  \\n  table[_ngcontent-%COMP%] {\\n    width: 20%;\\n  }\\n  \\n  .mat-table[_ngcontent-%COMP%] {\\n    width: 20px;\\n  }\\n  \\n  .mat-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%] {\\n    display: contents;\\n    border-bottom-width: 1px;\\n    border-bottom-style: solid;\\n    border-bottom-color:blue;\\n  \\n  }\\n  \\n  .mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%] {\\n    flex: 1;\\n    text-align: center;\\n    padding: 10px;\\n    \\n  }\\n  .mat-mdc-row[_ngcontent-%COMP%]:hover   .mat-mdc-cell[_ngcontent-%COMP%] {\\n    border-color: currentColor;\\n  }\\n  .mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%] {\\n    border-bottom: 1px solid transparent;\\n    border-top: 1px solid transparent;\\n    cursor: pointer;\\n  }\\n  \\n.header-row[_ngcontent-%COMP%]{\\n  background-color:skyblue;\\n  color: white;\\n}\\n\\n.page-color[_ngcontent-%COMP%]{\\n  background-color: #ff5e003f;\\n}\\n\\n.back-btn[_ngcontent-%COMP%]{\\n  margin-top: -5%;\\n\\n margin-left: 50%;\\n}\\n\\n.card-content[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  font-family: 'Arial', sans-serif;\\n  font-weight: bold;\\n  color: black; \\n  height: 40px;\\n}\\n\\n.mat-card[_ngcontent-%COMP%] {\\n  background-color:burlywood;\\n  border: 1px solid rosybrown;\\n  border-radius: 5px;\\n  box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.1);\\n\\n}\\n.card-bg[_ngcontent-%COMP%]{\\n  background-color:white;\\n}\\n.logo-container[_ngcontent-%COMP%] {\\n  margin-right: 10px; \\n}\\n\\n.logo[_ngcontent-%COMP%] {\\n  width: 150px; \\n  height: 30px;; \\n}\\n.text-container[_ngcontent-%COMP%] {\\n    \\n\\n\\n    margin-left:0px;\\n}\\n\\n\\n\\n\\n\\n\\n.mat-elevation-z8.mat-table[_ngcontent-%COMP%] {\\n    border-collapse: collapse !important;\\n    width: 100%;\\n  table-layout: fixed;\\n  \\n  }\\n  \\n  .mat-elevation-z8[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mat-elevation-z8[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    border: 1px solid skyblue; \\n\\n    padding: 8px;\\n    text-align: center;\\n  }\\n  \\n  .mat-elevation-z8[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n    background-color: skyblue; \\n\\n    width: 105px;\\n    color: black;\\n  }\\n  \\n  \\n\\n  .mat-elevation-z8[_ngcontent-%COMP%]   .odd-row[_ngcontent-%COMP%] {\\n    background-color: white; \\n\\n  }\\n  \\n  .mat-elevation-z8[_ngcontent-%COMP%]   .even-row[_ngcontent-%COMP%] {\\n    background-color: white; \\n\\n  }\\n  .mat-elevation-z8.mat-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mat-elevation-z8.mat-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    border: 1px solid black !important; \\n\\n    padding: 8px;\\n    text-align: left;\\n    border-bottom: 1px solid black !important; \\n\\n    \\n  }\\n  .example-first-footer-row[_ngcontent-%COMP%] {\\n    font-weight: bold;\\n  }\\n\\n\\n  .editable-input[_ngcontent-%COMP%] {\\n    border: none; \\n\\n    background-color: transparent; \\n\\n    width: calc(100% - 16px); \\n\\n    box-sizing: border-box; \\n\\n    font-family: inherit; \\n\\n    color: inherit; \\n\\n    padding: 8px; \\n\\n    margin: 0; \\n\\n    outline: none; \\n\\n}\\n\\n.editable-input[_ngcontent-%COMP%]:focus {\\n    border: none; \\n\\n    outline: none; \\n\\n}\\n.update-button[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 20px; \\n    right: 80px; \\n}\\n.excel-button[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 20px; \\n    right:220px; \\n}\\n.csv-button[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 20px; \\n    right:420px; \\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmluYWxpemUtcmVjZWl2aW5nL2ZpbmFsaXplLXJlY2VpdmluZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLFdBQVc7SUFDWCxXQUFXO0lBQ1gsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLFVBQVU7RUFDWjs7RUFFQTtJQUNFLFdBQVc7RUFDYjs7RUFFQTs7SUFFRSxpQkFBaUI7SUFDakIsd0JBQXdCO0lBQ3hCLDBCQUEwQjtJQUMxQix3QkFBd0I7O0VBRTFCOztFQUVBOztJQUVFLE9BQU87SUFDUCxrQkFBa0I7SUFDbEIsYUFBYTs7RUFFZjtFQUNBO0lBQ0UsMEJBQTBCO0VBQzVCO0VBQ0E7SUFDRSxvQ0FBb0M7SUFDcEMsaUNBQWlDO0lBQ2pDLGVBQWU7RUFDakI7O0FBRUY7RUFDRSx3QkFBd0I7RUFDeEIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsZUFBZTs7Q0FFaEIsZ0JBQWdCO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGdDQUFnQztFQUNoQyxpQkFBaUI7RUFDakIsWUFBWTtFQUNaLFlBQVk7QUFDZDs7QUFFQTtFQUNFLDBCQUEwQjtFQUMxQiwyQkFBMkI7RUFDM0Isa0JBQWtCO0VBQ2xCLDhDQUE4Qzs7QUFFaEQ7QUFDQTtFQUNFLHNCQUFzQjtBQUN4QjtBQUNBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLFlBQVk7QUFDZDtBQUNBO0lBQ0k7ZUFDVztJQUNYLGVBQWU7QUFDbkI7Ozs7Ozs7QUFPQTtJQUNJLG9DQUFvQztJQUNwQyxXQUFXO0VBQ2IsbUJBQW1COztFQUVuQjs7RUFFQTtJQUNFLHlCQUF5QixFQUFFLGlCQUFpQjtJQUM1QyxZQUFZO0lBQ1osa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0UseUJBQXlCLEVBQUUsNEJBQTRCO0lBQ3ZELFlBQVk7SUFDWixZQUFZO0VBQ2Q7O0VBRUEsc0RBQXNEO0VBQ3REO0lBQ0UsdUJBQXVCLEVBQUUsNkJBQTZCO0VBQ3hEOztFQUVBO0lBQ0UsdUJBQXVCLEVBQUUsOEJBQThCO0VBQ3pEO0VBQ0E7SUFDRSxrQ0FBa0MsRUFBRSxpQkFBaUI7SUFDckQsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQix5Q0FBeUMsRUFBRSxtQ0FBbUM7O0VBRWhGO0VBQ0E7SUFDRSxpQkFBaUI7RUFDbkI7OztFQUdBO0lBQ0UsWUFBWSxFQUFFLGtCQUFrQjtJQUNoQyw2QkFBNkIsRUFBRSxnQ0FBZ0M7SUFDL0Qsd0JBQXdCLEVBQUUseUVBQXlFO0lBQ25HLHNCQUFzQixFQUFFLDZDQUE2QztJQUNyRSxvQkFBb0IsRUFBRSx5Q0FBeUM7SUFDL0QsY0FBYyxFQUFFLCtDQUErQztJQUMvRCxZQUFZLEVBQUUsaUNBQWlDO0lBQy9DLFNBQVMsRUFBRSw4QkFBOEI7SUFDekMsYUFBYSxFQUFFLGdDQUFnQztBQUNuRDs7QUFFQTtJQUNJLFlBQVksRUFBRSwrQkFBK0I7SUFDN0MsYUFBYSxFQUFFLGdDQUFnQztBQUNuRDtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXO0FBQ2Y7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1QsV0FBVztBQUNmO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsU0FBUztJQUNULFdBQVc7QUFDZiIsInNvdXJjZXNDb250ZW50IjpbIi50YWJsZS1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTpibG9jaztcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGhlaWdodDogNDB2aDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgY29sb3I6YmxhY2s7XHJcbiAgICBwYWRkaW5nLWxlZnQ6MCU7XHJcbiAgfVxyXG4gIFxyXG4gIHRhYmxlIHtcclxuICAgIHdpZHRoOiAyMCU7XHJcbiAgfVxyXG4gIFxyXG4gIC5tYXQtdGFibGUge1xyXG4gICAgd2lkdGg6IDIwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5tYXQtcm93LFxyXG4gIC5tYXQtaGVhZGVyLXJvdyB7XHJcbiAgICBkaXNwbGF5OiBjb250ZW50cztcclxuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDFweDtcclxuICAgIGJvcmRlci1ib3R0b20tc3R5bGU6IHNvbGlkO1xyXG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjpibHVlO1xyXG4gIFxyXG4gIH1cclxuICBcclxuICAubWF0LWNlbGwsXHJcbiAgLm1hdC1oZWFkZXItY2VsbCB7XHJcbiAgICBmbGV4OiAxO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIFxyXG4gIH1cclxuICAubWF0LW1kYy1yb3c6aG92ZXIgLm1hdC1tZGMtY2VsbCB7XHJcbiAgICBib3JkZXItY29sb3I6IGN1cnJlbnRDb2xvcjtcclxuICB9XHJcbiAgLm1hdC1tZGMtcm93IC5tYXQtbWRjLWNlbGwge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuICBcclxuLmhlYWRlci1yb3d7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjpza3libHVlO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLnBhZ2UtY29sb3J7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNWUwMDNmO1xyXG59XHJcblxyXG4uYmFjay1idG57XHJcbiAgbWFyZ2luLXRvcDogLTUlO1xyXG5cclxuIG1hcmdpbi1sZWZ0OiA1MCU7XHJcbn1cclxuXHJcbi5jYXJkLWNvbnRlbnQge1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBmb250LWZhbWlseTogJ0FyaWFsJywgc2Fucy1zZXJpZjtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBjb2xvcjogYmxhY2s7IFxyXG4gIGhlaWdodDogNDBweDtcclxufVxyXG5cclxuLm1hdC1jYXJkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOmJ1cmx5d29vZDtcclxuICBib3JkZXI6IDFweCBzb2xpZCByb3N5YnJvd247XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGJveC1zaGFkb3c6IDBweCAycHggNXB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcblxyXG59XHJcbi5jYXJkLWJne1xyXG4gIGJhY2tncm91bmQtY29sb3I6d2hpdGU7XHJcbn1cclxuLmxvZ28tY29udGFpbmVyIHtcclxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7IFxyXG59XHJcblxyXG4ubG9nbyB7XHJcbiAgd2lkdGg6IDE1MHB4OyBcclxuICBoZWlnaHQ6IDMwcHg7OyBcclxufVxyXG4udGV4dC1jb250YWluZXIge1xyXG4gICAgLyogcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOjMwcHg7ICovXHJcbiAgICBtYXJnaW4tbGVmdDowcHg7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLm1hdC1lbGV2YXRpb24tejgubWF0LXRhYmxlIHtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2UgIWltcG9ydGFudDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIHRhYmxlLWxheW91dDogZml4ZWQ7XHJcbiAgXHJcbiAgfVxyXG4gIFxyXG4gIC5tYXQtZWxldmF0aW9uLXo4IHRoLCAubWF0LWVsZXZhdGlvbi16OCB0ZCB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBza3libHVlOyAvKiBCb3JkZXIgY29sb3IgKi9cclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgXHJcbiAgLm1hdC1lbGV2YXRpb24tejggdGgge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogc2t5Ymx1ZTsgLyogSGVhZGVyIGJhY2tncm91bmQgY29sb3IgKi9cclxuICAgIHdpZHRoOiAxMDVweDtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICB9XHJcbiAgXHJcbiAgLyogQWRkIG9kZCBhbmQgZXZlbiByb3cgc3R5bGVzIGZvciBiZXR0ZXIgdmlzaWJpbGl0eSAqL1xyXG4gIC5tYXQtZWxldmF0aW9uLXo4IC5vZGQtcm93IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyAvKiBPZGQgcm93IGJhY2tncm91bmQgY29sb3IgKi9cclxuICB9XHJcbiAgXHJcbiAgLm1hdC1lbGV2YXRpb24tejggLmV2ZW4tcm93IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyAvKiBFdmVuIHJvdyBiYWNrZ3JvdW5kIGNvbG9yICovXHJcbiAgfVxyXG4gIC5tYXQtZWxldmF0aW9uLXo4Lm1hdC10YWJsZSB0aCwgLm1hdC1lbGV2YXRpb24tejgubWF0LXRhYmxlIHRkIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrICFpbXBvcnRhbnQ7IC8qIEJvcmRlciBjb2xvciAqL1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBibGFjayAhaW1wb3J0YW50OyAvKiBIb3Jpem9udGFsIGJvcmRlciBiZXR3ZWVuIHJvd3MgKi9cclxuICAgIFxyXG4gIH1cclxuICAuZXhhbXBsZS1maXJzdC1mb290ZXItcm93IHtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIH1cclxuXHJcblxyXG4gIC5lZGl0YWJsZS1pbnB1dCB7XHJcbiAgICBib3JkZXI6IG5vbmU7IC8qIFJlbW92ZSBib3JkZXIgKi9cclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyAvKiBNYWtlIGJhY2tncm91bmQgdHJhbnNwYXJlbnQgKi9cclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxNnB4KTsgLyogQWRqdXN0IHdpZHRoIHRvIG1hdGNoIGNlbGwgd2lkdGggKGFzc3VtaW5nIDhweCBwYWRkaW5nIG9uIGVhY2ggc2lkZSkgKi9cclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7IC8qIEVuc3VyZSB3aWR0aCBpbmNsdWRlcyBwYWRkaW5nIGFuZCBib3JkZXIgKi9cclxuICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0OyAvKiBVc2UgdGhlIHNhbWUgZm9udCBhcyB0aGUgdGFibGUgY2VsbHMgKi9cclxuICAgIGNvbG9yOiBpbmhlcml0OyAvKiBVc2UgdGhlIHNhbWUgdGV4dCBjb2xvciBhcyB0aGUgdGFibGUgY2VsbHMgKi9cclxuICAgIHBhZGRpbmc6IDhweDsgLyogTWF0Y2ggcGFkZGluZyBvZiB0YWJsZSBjZWxscyAqL1xyXG4gICAgbWFyZ2luOiAwOyAvKiBSZW1vdmUgYW55IGRlZmF1bHQgbWFyZ2luICovXHJcbiAgICBvdXRsaW5lOiBub25lOyAvKiBSZW1vdmUgb3V0bGluZSB3aGVuIGZvY3VzZWQgKi9cclxufVxyXG5cclxuLmVkaXRhYmxlLWlucHV0OmZvY3VzIHtcclxuICAgIGJvcmRlcjogbm9uZTsgLyogUmVtb3ZlIGJvcmRlciB3aGVuIGZvY3VzZWQgKi9cclxuICAgIG91dGxpbmU6IG5vbmU7IC8qIFJlbW92ZSBvdXRsaW5lIHdoZW4gZm9jdXNlZCAqL1xyXG59XHJcbi51cGRhdGUtYnV0dG9uIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMjBweDsgXHJcbiAgICByaWdodDogODBweDsgXHJcbn1cclxuLmV4Y2VsLWJ1dHRvbiB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDIwcHg7IFxyXG4gICAgcmlnaHQ6MjIwcHg7IFxyXG59XHJcbi5jc3YtYnV0dG9uIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMjBweDsgXHJcbiAgICByaWdodDo0MjBweDsgXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["MatTableDataSource","Swal","XLSX","Papa","pdfMake","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","element_r21","packs","element_r25","lngth","element_r27","width","ɵɵtextInterpolate","element_r29","height","element_r31","dunit","element_r33","wght","element_r35","wunit","ɵɵlistener","FinalizeReceivingComponent_div_0_td_34_Template_input_ngModelChange_1_listener","$event","restoredCtx","ɵɵrestoreView","_r40","element_r37","$implicit","ɵɵresetView","gooddesc","FinalizeReceivingComponent_div_0_td_34_Template_input_input_1_listener","ctx_r41","ɵɵnextContext","handleGooddescInput","rcpNumber","ɵɵproperty","ɵɵelement","ɵɵelementContainerStart","ɵɵtemplate","FinalizeReceivingComponent_div_0_th_9_Template","FinalizeReceivingComponent_div_0_td_10_Template","ɵɵelementContainerEnd","FinalizeReceivingComponent_div_0_th_12_Template","FinalizeReceivingComponent_div_0_td_13_Template","FinalizeReceivingComponent_div_0_th_15_Template","FinalizeReceivingComponent_div_0_td_16_Template","FinalizeReceivingComponent_div_0_th_18_Template","FinalizeReceivingComponent_div_0_td_19_Template","FinalizeReceivingComponent_div_0_th_21_Template","FinalizeReceivingComponent_div_0_td_22_Template","FinalizeReceivingComponent_div_0_th_24_Template","FinalizeReceivingComponent_div_0_td_25_Template","FinalizeReceivingComponent_div_0_th_27_Template","FinalizeReceivingComponent_div_0_td_28_Template","FinalizeReceivingComponent_div_0_th_30_Template","FinalizeReceivingComponent_div_0_td_31_Template","FinalizeReceivingComponent_div_0_th_33_Template","FinalizeReceivingComponent_div_0_td_34_Template","FinalizeReceivingComponent_div_0_tr_35_Template","FinalizeReceivingComponent_div_0_tr_36_Template","FinalizeReceivingComponent_div_0_Template_button_click_37_listener","_r44","ctx_r43","updateLocationAndDescription","ctx_r0","dataSource","displayedColumns","FinalizeReceivingComponent","constructor","apiService","router","shipmentNo","totalRecords","gooddescValue","navigation","getCurrentNavigation","extras","state","ngOnInit","getFinalizeDetailById","getShipmentsById","subscribe","response","transformData","items","totalCount","console","log","data","displayedItems","dimensionCollection","weightCollection","dimensionMap","Map","forEach","dimensionItem","index","key","dUnit","has","existingItem","get","newItem","wUnit","locn","goodDesc","rcptNmbr","set","push","values","event","inputElement","target","value","reponse","succesToast","exportToExcel","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","exportToCSV","csv","unparse","blob","Blob","type","link","document","createElement","download","undefined","url","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","_asyncToGenerator","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","title","generatePdf","tableBody","map","item","pdfDefinition","pageSize","pageMargins","defaultStyle","columnGap","header","alignment","text","style","content","columns","block","margin","table","widths","styles","bold","fontSize","subheader","createPdf","_","ɵɵdirectiveInject","i1","ApiService","i2","Router","_2","selectors","decls","vars","consts","template","FinalizeReceivingComponent_Template","rf","ctx","FinalizeReceivingComponent_div_0_Template"],"sources":["D:\\PWS\\WareHouseManagement\\src\\app\\finalize-receiving\\finalize-receiving.component.ts","D:\\PWS\\WareHouseManagement\\src\\app\\finalize-receiving\\finalize-receiving.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../Services/api.service';\r\nimport { Router } from '@angular/router';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport Swal from 'sweetalert2';\r\nimport * as XLSX from 'xlsx';\r\nimport * as Papa from 'papaparse';\r\nimport * as pdfMake from 'pdfmake/build/pdfmake';\r\n// import * as pdfFonts from 'pdfmake/build/vfs_fonts';\r\n  \r\n  // (<any>pdfMake).vfs = pdfFonts.pdfMake.vfs;\r\n\r\ninterface DisplayedItem {\r\n  lngth: number;\r\n  width: number;\r\n  height: number;\r\n  dunit: string;\r\n  wght: number;\r\n  wunit: string;\r\n  locn: string;\r\n  gooddesc: string;\r\n  packs: number;\r\nrcpNumber:string;\r\n}\r\n@Component({\r\n  selector: 'app-finalize-receiving',\r\n  templateUrl: './finalize-receiving.component.html',\r\n  styleUrls: ['./finalize-receiving.component.css']\r\n})\r\nexport class FinalizeReceivingComponent implements OnInit  {\r\n  shipmentNo:string = \"\";\r\n  dataSource: MatTableDataSource<DisplayedItem> = new MatTableDataSource<DisplayedItem>();\r\n  displayedColumns: string[] = ['pks','type','lngth','width','height','dunit','wght','wunit','gooddesc'];\r\n  totalRecords=0;\r\n  rcpNumber:string=\"\";\r\n  gooddescValue:string = \"\";\r\n  \r\nconstructor(private apiService:ApiService, private router: Router)\r\n{\r\n  const navigation = this.router.getCurrentNavigation();\r\n    if(navigation && navigation.extras.state){\r\n       this.shipmentNo = navigation.extras.state['ShipmentNumber'];\r\n    }\r\n}\r\n\r\n\r\n  ngOnInit() \r\n  {\r\n   this.getFinalizeDetailById(this.shipmentNo);\r\n  }\r\n\r\n  getFinalizeDetailById(shipmentNo:string){\r\n    this.apiService.getShipmentsById(shipmentNo).subscribe(\r\n     (response:any)=>{\r\n     this.transformData(response.items[0]);\r\n      this.totalRecords = response.totalCount\r\n      console.log('details data '+response.items);\r\n     });\r\n  }\r\n\r\n  transformData(data: any) {\r\n    debugger;\r\n    const displayedItems: DisplayedItem[] = [];\r\n    const dimensionCollection: any[] = data.dimensionCollection;\r\n    const weightCollection = data.weightCollection;\r\n  \r\n    if (dimensionCollection) {\r\n      // Create a map to group items by their dimensions\r\n      const dimensionMap = new Map<string, DisplayedItem>();\r\n  \r\n      dimensionCollection.forEach((dimensionItem: any, index: number) => {\r\n        // Generate a key for the current dimensions\r\n        const key = `${dimensionItem.lngth}-${dimensionItem.width}-${dimensionItem.height}-${dimensionItem.dUnit}`;\r\n  \r\n        // Check if an item with the same dimensions exists in the map\r\n        if (dimensionMap.has(key)) {\r\n          // If exists, update weight and packs\r\n          const existingItem = dimensionMap.get(key)!;\r\n          existingItem.wght += weightCollection[index]?.wght || 0;\r\n          existingItem.packs++;\r\n        } else {\r\n          // If not, create a new item and add it to the map\r\n          const newItem: DisplayedItem = {\r\n            packs: 1,\r\n            lngth: dimensionItem.lngth,\r\n            width: dimensionItem.width,\r\n            height: dimensionItem.height,\r\n            dunit: dimensionItem.dUnit,\r\n            wght: weightCollection[index]?.wght || 0,\r\n            wunit: weightCollection[index]?.wUnit || '',\r\n            locn: dimensionItem.locn,\r\n            gooddesc: dimensionItem.goodDesc,\r\n            rcpNumber: dimensionItem.rcptNmbr\r\n          };\r\n          dimensionMap.set(key, newItem);\r\n        }\r\n      });\r\n  \r\n      // Convert the map values to an array\r\n      displayedItems.push(...dimensionMap.values());\r\n    }\r\n  \r\n    this.dataSource.data = displayedItems;\r\n  }\r\n  \r\n\r\nhandleGooddescInput(event: Event,rcpNumber:string) {\r\n  debugger;\r\n  const inputElement = event.target as HTMLInputElement; \r\n   this.gooddescValue = inputElement.value;\r\n   this.rcpNumber = rcpNumber;\r\n}\r\n\r\n //update method\r\n updateLocationAndDescription()\r\n {\r\n   this.apiService.updateLocationAndDescription(\"\",this.gooddescValue,this.rcpNumber, this.shipmentNo).subscribe(\r\n     (reponse:any)=>{\r\n     this.gooddescValue = \"\";\r\n     this.rcpNumber = \"\";\r\n     this.succesToast();\r\n     });\r\n }\r\n\r\n exportToExcel(): void {\r\n  const ws: XLSX.WorkSheet = XLSX.utils.json_to_sheet(this.dataSource.data);\r\n  const wb: XLSX.WorkBook = XLSX.utils.book_new();\r\n  XLSX.utils.book_append_sheet(wb, ws, 'data');\r\n  XLSX.writeFile(wb, 'table_data.xlsx');\r\n}\r\n\r\nexportToCSV(): void {\r\n  const csv = Papa.unparse(this.dataSource.data);\r\n  const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n  const link = document.createElement('a');\r\n  if (link.download !== undefined) {\r\n    const url = URL.createObjectURL(blob);\r\n    link.setAttribute('href', url);\r\n    link.setAttribute('download', 'table_data.csv');\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n}\r\n\r\n\r\n\r\n async succesToast(){\r\n  const Toast = Swal.mixin({\r\n    toast: true,\r\n    position: 'top',\r\n    showConfirmButton: false,\r\n    timer: 3000,\r\n    timerProgressBar: true,\r\n    didOpen: (toast) => {\r\n      toast.addEventListener('mouseenter', Swal.stopTimer)\r\n      toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n    }\r\n  });\r\n  \r\n  Toast.fire({\r\n    icon: 'success',\r\n    title: 'Updated Uploaded Successfully'\r\n  });\r\n}\r\n\r\n\r\n\r\ngeneratePdf() {\r\n\r\n  const tableBody = this.dataSource.data.map(item => [item.packs, item.lngth, item.width, item.height, item.wght]);\r\n\r\n\r\n  const pdfDefinition: any = {\r\n    pageSize: 'A4',\r\n    pageMargins: [40, 50, 40, 40],\r\n    defaultStyle: {\r\n      columnGap: 10\r\n    },\r\n    header: {\r\n      alignment: 'center',\r\n      text: 'Project: 2023-2024 WINTER CLOTHES',\r\n      style: 'header'\r\n    },\r\n    content: [\r\n      {\r\n        columns: [\r\n          {\r\n            text: 'P.O.',\r\n            style: 'subheader'\r\n          },\r\n          {\r\n            alignment: 'center',\r\n            text: 'Truck # 55',\r\n            style: 'subheader'\r\n          },\r\n          {\r\n            alignment: 'center',\r\n            text: 'Supplier: ROYER',\r\n            style: 'subheader'\r\n          },\r\n          {\r\n            alignment: 'center',\r\n            text: 'DATE: 31-1-24',\r\n            style: 'subheader'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        block: {\r\n          margin: [0, 60, 0, 0] \r\n        },\r\n        table: {\r\n          widths: ['*', '*', '*', '*', '*'],\r\n          body: [\r\n            ['PLT', 'L', 'W', 'H', 'Weight'],\r\n            ...tableBody\r\n            // ['1', '48\\'', '40\"', '86', '169', '27'],\r\n            // ['2', '84', '174', '28', '3', '85'],\r\n            // ['22', '87', '259', '23', '87', '238'],\r\n            // ['23', '87', '238', '24', '85', '243'],\r\n            // ['24', '85', '243', '25', '83', '202'],\r\n            // ['25', '83', '202', '6', '87', '27']\r\n          ]\r\n        }\r\n      }\r\n    ],\r\n    styles: {\r\n      header: {\r\n        bold: true,\r\n        fontSize: 14\r\n      },\r\n      subheader: {\r\n        fontSize: 12\r\n      }\r\n    }\r\n  };\r\n\r\n  pdfMake.createPdf(pdfDefinition).download('Table.pdf');\r\n}\r\n}\r\n","<div class=\"table-container\"  *ngIf=\"dataSource\">\r\n    <mat-card class=\"card-bg\">\r\n      <mat-card-content class=\"card-content\">\r\n        <div class=\"logo-container\">\r\n          <img src=\"\\assets\\logo-img.png\" alt=\"Logo\" class=\"logo\">\r\n        </div>\r\n        <div class=\"text-container\">\r\n          Finalize Receiving\r\n        </div>\r\n      </mat-card-content>\r\n    </mat-card>\r\n \r\n    <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\r\n    <ng-container matColumnDef=\"pks\">\r\n      <th mat-header-cell  *matHeaderCellDef>Packs</th>\r\n      <td mat-footer-cell *matCellDef=\"let element; let i = index\" > {{ element.packs }} </td>\r\n    </ng-container>\r\n    <ng-container matColumnDef=\"type\">\r\n        <th mat-header-cell  *matHeaderCellDef>Pk. Ty</th>\r\n        <td mat-footer-cell *matCellDef=\"let element; let i = index\" >PKG </td>\r\n      </ng-container>\r\n    <ng-container matColumnDef=\"lngth\">\r\n      <th mat-header-cell *matHeaderCellDef>Length</th>\r\n      <td mat-footer-cell *matCellDef=\"let element; let i = index\" >\r\n         {{ element.lngth }} </td>\r\n    </ng-container>\r\n\r\n    <ng-container matColumnDef=\"width\">\r\n      <th mat-header-cell *matHeaderCellDef>Width</th>\r\n      <td mat-footer-cell *matCellDef=\"let element; let i = index\" > {{ element.width }} </td>\r\n    </ng-container>\r\n    <ng-container matColumnDef=\"height\">\r\n      <th mat-header-cell *matHeaderCellDef>Height</th>\r\n      <td mat-footer-cell *matCellDef=\"let element; let i = index\" >{{element.height}}</td>\r\n    </ng-container>\r\n     <ng-container matColumnDef=\"dunit\">\r\n        <th mat-header-cell *matHeaderCellDef>UD</th>\r\n        <td mat-footer-cell *matCellDef=\"let element; let i = index\" >{{element.dunit}}</td>\r\n      </ng-container>\r\n    <ng-container matColumnDef=\"wght\">\r\n        <th mat-header-cell *matHeaderCellDef>Weight</th>\r\n        <td mat-footer-cell *matCellDef=\"let element; let i = index\">{{element.wght}}</td>\r\n      </ng-container>\r\n    \r\n      <ng-container matColumnDef=\"wunit\">\r\n        <th mat-header-cell *matHeaderCellDef>UW</th>\r\n        <td mat-footer-cell *matCellDef=\"let element; let i = index\">{{element.wunit}}</td>\r\n      </ng-container>\r\n      \r\n      <ng-container matColumnDef=\"gooddesc\">\r\n        <th mat-header-cell *matHeaderCellDef>Goods Description</th>\r\n        <td mat-footer-cell *matCellDef=\"let element; let i = index\">\r\n            <input matInput type=\"text\" [(ngModel)]=\"element.gooddesc\" \r\n            (input)=\"handleGooddescInput($event,element.rcpNumber)\"  \r\n            class=\"editable-input\">     \r\n        </td>\r\n      </ng-container>\r\n\r\n      <tr mat-header-row class=\"header-row\" *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>  \r\n      <!-- <tr mat-footer-row class=\"footer-row\" *matFooterRowDef=\"['totalweight']\"></tr> -->\r\n        </table>\r\n        <!-- <button mat-raised-button color=\"primary\" class=\"finalize-button\"\r\n        (click)=\"openFinalizeData()\">\r\n        Finalize\r\n       </button> -->\r\n\r\n       <!-- <button mat-raised-button color=\"primary\" class=\"excel-button\" (click)=\"exportToExcel()\">Export to Excel</button>\r\n       <button mat-raised-button color=\"primary\" class=\"csv-button\"   (click)=\"generatePdf()\">Export to CSV</button> -->\r\n\r\n       <button mat-raised-button color=\"primary\" class=\"update-button\"\r\n                       (click)=\"updateLocationAndDescription()\">\r\n                        UPDATE\r\n        </button>\r\n    </div>\r\n\r\n\r\n  \r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}