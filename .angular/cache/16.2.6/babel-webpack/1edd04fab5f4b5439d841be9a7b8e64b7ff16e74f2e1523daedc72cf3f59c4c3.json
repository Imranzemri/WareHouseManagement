{"ast":null,"code":"import _asyncToGenerator from \"D:/PWS/WareHouseManagement/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet TransfersComponent = class TransfersComponent {\n  constructor(http, apiService, fb, qrCodeService, router, _service) {\n    this.http = http;\n    this.apiService = apiService;\n    this.fb = fb;\n    this.qrCodeService = qrCodeService;\n    this.router = router;\n    this._service = _service;\n    this.requiredFileType = '';\n    this.fileName = '';\n    this.uploadProgress = 0;\n    this.model = new Shipment();\n    this.uploadedImages = [];\n    this.qrCodeData = [];\n    this.emptyFields = [];\n    this.showSpinner = false;\n    this.validationStatus = {\n      clientName: true,\n      shipmentNo: true,\n      pieces: true,\n      dimensions: true,\n      weight: true,\n      bayLocation: true,\n      note: true,\n      images: true,\n      email: true\n    };\n    this.imagesArray = [];\n    this.dimensionsArray = [];\n    this.weightArray = [];\n    this.dimensionSelectedOption = '';\n    this.weightSelectedOption = '';\n    this.disableDimensionField = true;\n    this.disableWeightField = true;\n    this.disableAddbtn = true;\n    this.disableWghtAddBtn = true;\n    this.totalWeight = '';\n    this.totalDimnsn = '';\n    this.model = new Shipment();\n    this.form = this.fb.group({\n      file: ['']\n    });\n    this.imageBytes = null;\n    this.imagesArray = [];\n    this.dimensionsArray = [];\n    this.uploadSub = new Subscription();\n  }\n  dimensionOptionSelected(option) {\n    this.dimensionSelectedOption = option;\n    this.disableDimensionField = false;\n  }\n  weightOptionSelected(option) {\n    this.weightSelectedOption = option;\n    this.disableWeightField = false;\n  }\n  //for adding dimensions\n  addDimension(l, w, h) {\n    if (l == null || w == null || h == null) {\n      Swal.fire({\n        icon: 'info',\n        title: 'Information',\n        text: \"Please Enter Value\"\n      });\n      return;\n    }\n    if (this.dimensionSelectedOption == 'cm') {\n      if (this.model.Length == 0 || this.model.Length) {\n        this.model.Length += parseFloat(l);\n      }\n      if (this.model.Width == 0 || this.model.Width) {\n        this.model.Width += parseFloat(w);\n      }\n      if (this.model.Height == 0 || this.model.Height) {\n        this.model.Height += parseFloat(h);\n      }\n      this.dimensionsArray.push(`Length=${this.model.Length} Width=${this.model.Width} Height=${this.model.Height}`);\n      if (this.model.Qnty == this.dimensionsArray.length) {\n        this.disableAddbtn = true;\n        this.disableDimensionField = true;\n      } else {\n        this.disableAddbtn = false;\n      }\n      this.totalDimnsn = `L=${this.model.Length}  W=${this.model.Width} H=${this.model.Height}`;\n      this.lenght = 0;\n      this.width = 0;\n      this.height = 0;\n    } else if (this.dimensionSelectedOption == 'in') {\n      if (this.model.Length == 0 || this.model.Length) {\n        this.model.Length += parseFloat(l);\n      }\n      if (this.model.Width == 0 || this.model.Width) {\n        this.model.Width += parseFloat(w);\n      }\n      if (this.model.Height == 0 || this.model.Height) {\n        this.model.Height += parseFloat(h);\n      }\n      this.dimensionsArray.push(`Length=${this.model.Length} Width=${this.model.Width} Height=${this.model.Height}`);\n      if (this.model.Qnty == this.dimensionsArray.length) {\n        this.disableAddbtn = true;\n        this.disableDimensionField = true;\n      } else {\n        this.disableAddbtn = false;\n      }\n      this.totalDimnsn = `L=${this.model.Length}  W=${this.model.Width} H=${this.model.Height}`;\n      this.lenght = 0;\n      this.width = 0;\n      this.height = 0;\n    }\n  }\n  //disable/enable fields and add buttons\n  enableAddDimBtn() {\n    if (this.model) {\n      this.qty = this.model.Qnty;\n      if (this.qty ? true : false) {\n        //for weight fieds and button\n        if (this.qty > this.weightArray.length) {\n          if (this.weightSelectedOption == '') {\n            this.disableWeightField = true;\n          } else {\n            this.disableWeightField = false;\n          }\n          this.disableAddbtn = false;\n          this.disableWghtAddBtn = false;\n        } else {\n          this.disableAddbtn = true;\n          this.disableWghtAddBtn = true;\n          this.disableWeightField = true;\n          this.disableDimensionField = true;\n        }\n        //for dimensions field and button\n        if (this.qty > this.dimensionsArray.length) {\n          if (this.dimensionSelectedOption == '') {\n            this.disableDimensionField = true;\n          } else {\n            this.disableDimensionField = false;\n          }\n          this.disableAddbtn = false;\n          this.disableWghtAddBtn = false;\n        } else {\n          this.disableAddbtn = true;\n          this.disableWghtAddBtn = true;\n          this.disableWeightField = true;\n          this.disableDimensionField = true;\n        }\n      }\n      // else{\n      //   this.disableAddbtn=true;\n      //   this.disableWghtAddBtn=true;\n      //   this.disableWeightField=true;\n      // }\n    }\n  }\n  //for adding weight either in kg or lbs\n  addWeight(wght) {\n    if (wght == null || wght == undefined || wght == '') {\n      Swal.fire({\n        icon: 'info',\n        title: 'Information',\n        text: \"Please Enter Value\"\n      });\n      return;\n    }\n    if (this.weightSelectedOption == \"kg\") {\n      if (this.model.Qnty && this.model.Qnty > 0) {\n        if (this.model.Wght == 0 || this.model.Wght) {\n          this.model.Wght += parseFloat(wght);\n          this.weightArray.push(wght);\n        }\n        this.totalWeight = `${this.model.Wght}kg`;\n        this.weight = 0;\n        if (this.model.Qnty == this.weightArray.length) {\n          this.disableWghtAddBtn = true;\n          this.disableWeightField = true;\n        } else {\n          this.disableWghtAddBtn = false;\n          this.disableWeightField = false;\n        }\n      } else {\n        Swal.fire({\n          icon: 'info',\n          title: 'Information',\n          text: \"Please Enter Number Of Pieces First\"\n        });\n        return;\n      }\n    } else if (this.weightSelectedOption == \"lb\") {\n      if (this.model.Qnty && this.model.Qnty > 0) {\n        if (this.model.Wght == 0 || this.model.Wght) {\n          this.model.Wght += parseFloat(wght);\n          this.weightArray.push(wght);\n        }\n        this.totalWeight = `${this.model.Wght}kg`;\n        this.weight = 0;\n        if (this.model.Qnty == this.weightArray.length) {\n          this.disableWghtAddBtn = true;\n          this.disableWeightField = true;\n        } else {\n          this.disableWghtAddBtn = false;\n          this.disableWeightField = false;\n        }\n      } else {\n        Swal.fire({\n          icon: 'info',\n          title: 'Information',\n          text: \"Please Enter Number Of Pieces First\"\n        });\n        return;\n      }\n    }\n  }\n  onSubmit() {\n    if (this.validateFormFields()) {\n      this.convertArrayToJson();\n      this.showSpinner = true;\n      Swal.showLoading();\n      this.apiService.postFormData(this.model).subscribe(response => {\n        console.log('Response:', response);\n        this.generateQRCodeData(response);\n        //Swal.close();\n        Swal.fire({\n          title: 'Thank You',\n          text: 'Form submitted successfully',\n          icon: 'success',\n          showConfirmButton: false,\n          timer: 3000\n        });\n        this.router.navigate(['/success']);\n      }, error => {\n        // Handle the error here\n        console.error('Error:', error);\n        this.showSpinner = false;\n        Swal.close();\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: error\n        });\n      }, () => {\n        this.showSpinner = false;\n        //Swal.close();\n      });\n    } else {\n      this.displayError();\n    }\n  }\n  convertArrayToJson() {\n    // this.model.Imgs = JSON.stringify(this.imagesArray);\n    this.model.Imgs = JSON.stringify(this.imageBytes);\n  }\n  // Define a function to validate a specific field\n  validateField(fieldName) {\n    switch (fieldName) {\n      case 'clientName':\n        this.validationStatus.clientName = !!this.model.Name;\n        break;\n      case 'shipmentNo':\n        this.validationStatus.shipmentNo = !!this.model.ShptNmbr;\n        break;\n      case 'pieces':\n        this.enableAddDimBtn();\n        this.validationStatus.pieces = !!this.model.Qnty;\n        break;\n      case 'dimensions':\n        this.validationStatus.dimensions = !!this.model.Dmnsn;\n        break;\n      case 'weight':\n        this.validationStatus.weight = !!this.model.Wght;\n        break;\n      case 'bayLocation':\n        this.validationStatus.bayLocation = !!this.model.Locn;\n        break;\n      case 'note':\n        this.validationStatus.note = !!this.model.Note;\n        break;\n      case 'images':\n        this.validationStatus.images = Array.isArray(this.imagesArray) && this.imagesArray.length > 0;\n        break;\n      case 'email':\n        this.validationStatus.email = !!this.model.Rpnt;\n        break;\n      default:\n      // Handle other fields or unknown fields here\n    }\n  }\n  // Define a function to validate all fields\n  validateFormFields() {\n    this.validateField('clientName');\n    this.validateField('shipmentNo');\n    this.validateField('pieces');\n    this.validateField('dimensions');\n    this.validateField('weight');\n    this.validateField('bayLocation');\n    this.validateField('note');\n    this.validateField('images');\n    this.validateField('recipients');\n    // Check if any field failed validation\n    return !Object.values(this.validationStatus).some(status => !status);\n  }\n  // onFileChange(event: any) {\n  //   // const file = event.target.files[0];\n  //   // if (file) {\n  //   //   this.form.get('file')?.setValue(file);\n  //   //   this.convertToBase64();\n  //   //   this.imagesArray.push(file.name);\n  //   // }\n  //   this.selectedFile=event.target.files[0];\n  //   this.convertToBase64();\n  // }\n  onFileChange(event) {\n    if (this.model.ShptNmbr == '') {\n      Swal.fire({\n        icon: 'info',\n        title: 'Information',\n        text: \"Please add Shipment number first\"\n      });\n      return;\n    }\n    const file = event.target.files[0];\n    if (file) {\n      this.fileName = file.name;\n      const formData = new FormData();\n      formData.append(\"thumbnail\", file);\n      const upload$ = this.http.post(\"https://localhost:7196/api/Shipment/UploadImage\", formData, {\n        reportProgress: true,\n        observe: 'events'\n        //   headers: {\n        //     'Content-Type': 'multipart/form-data' // Ensure the proper content type is set\n        // }\n      }).pipe(finalize(() => this.reset()));\n      this.uploadSub = upload$.subscribe(event => {\n        this.uploadProgress = 20;\n        if (event.type == HttpEventType.UploadProgress) {\n          if (event.total) {\n            this.uploadProgress = Math.round(100 * (event.loaded / event.total));\n          }\n        }\n      });\n      this.imagesArray.push(file.name);\n      this.uploadProgress = 100;\n    }\n  }\n  cancelUpload() {\n    this.uploadSub.unsubscribe();\n    this.reset();\n  }\n  reset() {\n    this.uploadProgress = 0;\n    this.uploadSub = new Subscription();\n  }\n  // convertToBase64() {\n  //   const reader = new FileReader();\n  //   reader.readAsDataURL(this.selectedFile as Blob);\n  //   reader.onload = () => {\n  //     this.imageBytes = reader.result;\n  //   };\n  //   reader.onerror = (error) => {\n  //     console.log('Error: ', error);\n  //   };\n  // }\n  triggerFileInput() {\n    this.fileInput.nativeElement.click();\n  }\n  generateQRCodeData(response) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // const warehouseReceiptNo = 'WR1000'; // Replace with your logic to generate the receipt number\n      if (_this.model.Qnty !== null) {\n        for (let i = 1; i <= _this.model.Qnty; i++) {\n          const qrCodeData = `Receipt Number: ${response[i - 1]}\\nClient: ${_this.model.Name}\\nShipment No: ${_this.model.ShptNmbr}`;\n          try {\n            const qrCodeUrl = yield _this.qrCodeService.generateQRCode(qrCodeData);\n            _this.qrCodeData.push(qrCodeUrl);\n          } catch (error) {\n            console.error('Error generating QR code:', error);\n          }\n        }\n        _this.apiService.qrs = _this.qrCodeData;\n        _this.apiService.rcptNmbrs = response;\n      }\n    })();\n  }\n  ngAfterViewInit() {\n    this._service.info('Welcome', 'Welcome to the Cargo', {\n      position: ['top', 'right'],\n      timeOut: 4000,\n      showProgressBar: true,\n      pauseOnHover: false,\n      clickToClose: false,\n      maxLength: 10\n    });\n  }\n  displayError() {\n    this._service.error('Error', 'All fields are mandatory', {\n      position: ['top', 'right'],\n      timeOut: 4000,\n      showProgressBar: true,\n      pauseOnHover: false,\n      clickToClose: false,\n      maxLength: 10\n    });\n  }\n};\n__decorate([ViewChild('fileInput')], TransfersComponent.prototype, \"fileInput\", void 0);\nTransfersComponent = __decorate([Component({\n  selector: 'app-transfers',\n  templateUrl: './transfers.component.html',\n  styleUrls: ['./transfers.component.css']\n})], TransfersComponent);\nexport { TransfersComponent };","map":{"version":3,"names":["Component","TransfersComponent","constructor","http","apiService","fb","qrCodeService","router","_service","requiredFileType","fileName","uploadProgress","model","Shipment","uploadedImages","qrCodeData","emptyFields","showSpinner","validationStatus","clientName","shipmentNo","pieces","dimensions","weight","bayLocation","note","images","email","imagesArray","dimensionsArray","weightArray","dimensionSelectedOption","weightSelectedOption","disableDimensionField","disableWeightField","disableAddbtn","disableWghtAddBtn","totalWeight","totalDimnsn","form","group","file","imageBytes","uploadSub","Subscription","dimensionOptionSelected","option","weightOptionSelected","addDimension","l","w","h","Swal","fire","icon","title","text","Length","parseFloat","Width","Height","push","Qnty","length","lenght","width","height","enableAddDimBtn","qty","addWeight","wght","undefined","Wght","onSubmit","validateFormFields","convertArrayToJson","showLoading","postFormData","subscribe","response","console","log","generateQRCodeData","showConfirmButton","timer","navigate","error","close","displayError","Imgs","JSON","stringify","validateField","fieldName","Name","ShptNmbr","Dmnsn","Locn","Note","Array","isArray","Rpnt","Object","values","some","status","onFileChange","event","target","files","name","formData","FormData","append","upload$","post","reportProgress","observe","pipe","finalize","reset","type","HttpEventType","UploadProgress","total","Math","round","loaded","cancelUpload","unsubscribe","triggerFileInput","fileInput","nativeElement","click","_this","_asyncToGenerator","i","qrCodeUrl","generateQRCode","qrs","rcptNmbrs","ngAfterViewInit","info","position","timeOut","showProgressBar","pauseOnHover","clickToClose","maxLength","__decorate","ViewChild","selector","templateUrl","styleUrls"],"sources":["D:\\PWS\\WareHouseManagement\\src\\app\\transfers\\transfers.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-transfers',\r\n  templateUrl: './transfers.component.html',\r\n  styleUrls: ['./transfers.component.css']\r\n})\r\nexport class TransfersComponent {\r\n  requiredFileType:string='';\r\n\r\n  fileName = '';\r\n  uploadProgress:number=0;\r\n  uploadSub: Subscription;\r\n\r\n  @ViewChild('fileInput') fileInput!: ElementRef;\r\n  model: Shipment = new Shipment();\r\n  form: FormGroup;\r\n  selectedFile: File | undefined;\r\n   imageBytes: ArrayBuffer | string | null;\r\n  uploadedImages: File[] = [];\r\n  qrCodeData: string[] = [];\r\n  errorMessage!: string;\r\n  emptyFields: string[] = [];\r\n  showSpinner: boolean = false;\r\n\r\n  validationStatus = {\r\n    clientName: true,\r\n    shipmentNo: true,\r\n    pieces: true,\r\n    dimensions: true,\r\n    weight: true,\r\n    bayLocation: true,\r\n    note: true,\r\n    images: true,\r\n    email: true,\r\n  };\r\n  imagesArray: string[] = [];\r\n  dimensionsArray: string[] = [];\r\n  weightArray: string[] = [];\r\n  dimensionSelectedOption:string='' ;\r\n  weightSelectedOption: string = '' ;\r\n  disableDimensionField:boolean = true;\r\n  disableWeightField:boolean = true;\r\n  lenght!:number;;\r\n  width!:number;\r\n  height!:number;\r\n  weight!:number;\r\n  disableAddbtn:boolean = true;\r\n  disableWghtAddBtn:boolean = true;\r\n  qty!:number |null;\r\n  totalWeight:string='';\r\n  totalDimnsn:string=''\r\n\r\n  constructor(private http: HttpClient,private apiService: ApiService, private fb: FormBuilder, private qrCodeService: QrcodeService, private router: Router,private _service:NotificationsService) {\r\n    this.model = new Shipment();\r\n    this.form = this.fb.group({\r\n      file: [''],\r\n    });\r\n    this.imageBytes = null;\r\n    this.imagesArray = [];\r\n    this.dimensionsArray=[];\r\n    this.uploadSub = new Subscription();\r\n\r\n\r\n  }\r\n\r\n  dimensionOptionSelected(option: string) {\r\n    this.dimensionSelectedOption = option;\r\n    this.disableDimensionField = false;\r\n  }\r\n  weightOptionSelected(option: string) {\r\n    this.weightSelectedOption = option;\r\n    this.disableWeightField=false;\r\n  }\r\n\r\n  //for adding dimensions\r\n  addDimension(l:any,w:any,h:any) {\r\n    if(l==null || w==null || h==null) {\r\n      Swal.fire({\r\n        icon: 'info',\r\n        title: 'Information',\r\n        text: \"Please Enter Value\", \r\n      });\r\n      return;\r\n    }\r\n    if(this.dimensionSelectedOption=='cm')\r\n    {\r\n      if(this.model.Length==0 || this.model.Length)\r\n      {\r\n        this.model.Length  +=parseFloat(l);\r\n        \r\n      }\r\n      if(this.model.Width==0 || this.model.Width){\r\n        this.model.Width +=parseFloat(w);\r\n      }\r\n      if(this.model.Height==0 || this.model.Height){\r\n        this.model.Height +=parseFloat(h);\r\n      }\r\n    \r\n    \r\n      this.dimensionsArray.push(`Length=${this.model.Length} Width=${this.model.Width} Height=${this.model.Height}`);\r\n      if(this.model.Qnty==this.dimensionsArray.length)\r\n     {\r\n      this.disableAddbtn=true;\r\n      this.disableDimensionField=true;\r\n     }\r\n     else\r\n     {\r\n      this.disableAddbtn=false;\r\n     }\r\n      this.totalDimnsn= `L=${this.model.Length}  W=${this.model.Width} H=${this.model.Height}`;\r\n      this.lenght=0;\r\n      this.width=0;\r\n      this.height=0;\r\n   \r\n    }\r\n    else if (this.dimensionSelectedOption=='in')\r\n    {\r\n      if(this.model.Length==0 || this.model.Length)\r\n      {\r\n        this.model.Length  +=parseFloat(l);\r\n        \r\n      }\r\n      if(this.model.Width==0 || this.model.Width){\r\n        this.model.Width +=parseFloat(w);\r\n      }\r\n      if(this.model.Height==0 || this.model.Height){\r\n        this.model.Height +=parseFloat(h);\r\n      }\r\n    \r\n    \r\n      this.dimensionsArray.push(`Length=${this.model.Length} Width=${this.model.Width} Height=${this.model.Height}`);\r\n      if(this.model.Qnty==this.dimensionsArray.length)\r\n     {\r\n      this.disableAddbtn=true;\r\n      this.disableDimensionField=true;\r\n     }\r\n     else\r\n     {\r\n      this.disableAddbtn=false;\r\n     }\r\n      this.totalDimnsn= `L=${this.model.Length}  W=${this.model.Width} H=${this.model.Height}`;\r\n      this.lenght=0;\r\n      this.width=0;\r\n      this.height=0;\r\n   \r\n    }\r\n}\r\n\r\n//disable/enable fields and add buttons\r\nenableAddDimBtn()\r\n{\r\n  if (this.model) \r\n  { \r\n      this.qty=this.model.Qnty\r\n    if(this.qty ? true : false){\r\n      //for weight fieds and button\r\n      if(this.qty! > this.weightArray.length)\r\n      {\r\n        if(this.weightSelectedOption =='')\r\n        {\r\n          this.disableWeightField=true;\r\n        }\r\n        else\r\n        {\r\n          this.disableWeightField=false;\r\n        }\r\n        this.disableAddbtn=false;\r\n        this.disableWghtAddBtn=false;\r\n      }\r\n      else\r\n      {\r\n        this.disableAddbtn=true;\r\n        this.disableWghtAddBtn=true;\r\n        this.disableWeightField=true;\r\n        this.disableDimensionField=true;\r\n      }\r\n      //for dimensions field and button\r\n      if(this.qty! > this.dimensionsArray.length)\r\n      {\r\n        if(this.dimensionSelectedOption=='')\r\n        {\r\n          this.disableDimensionField=true;\r\n        }\r\n        else{\r\n          this.disableDimensionField=false;\r\n        }\r\n        this.disableAddbtn=false;\r\n        this.disableWghtAddBtn=false;\r\n      }\r\n      else\r\n      {\r\n        this.disableAddbtn=true;\r\n        this.disableWghtAddBtn=true;\r\n        this.disableWeightField=true;\r\n        this.disableDimensionField=true;\r\n      }\r\n    \r\n      \r\n    }\r\n    // else{\r\n    //   this.disableAddbtn=true;\r\n    //   this.disableWghtAddBtn=true;\r\n    //   this.disableWeightField=true;\r\n    // }\r\n  }\r\n\r\n}\r\n\r\n//for adding weight either in kg or lbs\r\n  addWeight(wght:any)\r\n  {\r\n    if(wght==null || wght==undefined || wght=='') {\r\n      Swal.fire({\r\n        icon: 'info',\r\n        title: 'Information',\r\n        text: \"Please Enter Value\", \r\n      });\r\n      return;\r\n    }\r\n    if(this.weightSelectedOption==\"kg\")\r\n    {\r\n      if(this.model.Qnty && this.model.Qnty >0)\r\n      {\r\n        if(this.model.Wght==0 || this.model.Wght)\r\n        {\r\n          this.model.Wght += parseFloat(wght);\r\n          this.weightArray.push(wght);\r\n        }\r\n        this.totalWeight=`${this.model.Wght}kg`;\r\n        this.weight=0;\r\n        if(this.model.Qnty==this.weightArray.length){\r\n         this.disableWghtAddBtn=true;\r\n         this.disableWeightField=true;\r\n        }\r\n        else\r\n        {\r\n          this.disableWghtAddBtn=false;\r\n          this.disableWeightField=false;\r\n        }\r\n      }\r\n      else\r\n      {\r\n        Swal.fire({\r\n          icon: 'info',\r\n          title: 'Information',\r\n          text: \"Please Enter Number Of Pieces First\", \r\n        });\r\n        return;\r\n      }\r\n    }\r\n    else if(this.weightSelectedOption==\"lb\")\r\n    {\r\n      if(this.model.Qnty && this.model.Qnty >0)\r\n      {\r\n        if(this.model.Wght==0 || this.model.Wght)\r\n        {\r\n          this.model.Wght += parseFloat(wght);\r\n          this.weightArray.push(wght);\r\n        }\r\n        this.totalWeight=`${this.model.Wght}kg`;\r\n        this.weight=0;\r\n        if(this.model.Qnty==this.weightArray.length){\r\n         this.disableWghtAddBtn=true;\r\n         this.disableWeightField=true;\r\n        }\r\n        else\r\n        {\r\n          this.disableWghtAddBtn=false;\r\n          this.disableWeightField=false;\r\n        }\r\n      }\r\n      else\r\n      {\r\n        Swal.fire({\r\n          icon: 'info',\r\n          title: 'Information',\r\n          text: \"Please Enter Number Of Pieces First\", \r\n        });\r\n        return;\r\n      }\r\n    }\r\n    \r\n   \r\n  }\r\n  onSubmit() {\r\n    if (this.validateFormFields()) {\r\n      this.convertArrayToJson();\r\n      this.showSpinner = true;\r\n      Swal.showLoading();\r\n      this.apiService.postFormData(this.model).subscribe(\r\n        (response: string[]) => {\r\n          console.log('Response:', response);\r\n          this.generateQRCodeData(response);\r\n          //Swal.close();\r\n          Swal.fire({\r\n            title: 'Thank You',\r\n            text: 'Form submitted successfully',\r\n            icon: 'success',\r\n            showConfirmButton: false,\r\n            timer: 3000 \r\n          });\r\n          this.router.navigate(['/success']);\r\n        },\r\n        (error) => {\r\n          // Handle the error here\r\n          console.error('Error:', error);\r\n          this.showSpinner = false; \r\n          Swal.close();\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Oops...',\r\n            text: error, \r\n          });\r\n        },\r\n        () => {\r\n          this.showSpinner = false; \r\n          //Swal.close();\r\n      }\r\n      \r\n      );\r\n    }\r\n    else{\r\n      this.displayError();\r\n    }\r\n  }\r\n  convertArrayToJson() {\r\n   // this.model.Imgs = JSON.stringify(this.imagesArray);\r\n    this.model.Imgs=JSON.stringify(this.imageBytes);\r\n  }\r\n  // Define a function to validate a specific field\r\n  validateField(fieldName: string) {\r\n    switch (fieldName) {\r\n      case 'clientName':\r\n        this.validationStatus.clientName = !!this.model.Name;\r\n        break;\r\n      case 'shipmentNo':\r\n        this.validationStatus.shipmentNo = !!this.model.ShptNmbr;\r\n        break;\r\n      case 'pieces':\r\n         this.enableAddDimBtn();\r\n        this.validationStatus.pieces = !!this.model.Qnty;\r\n        break;\r\n      case 'dimensions':\r\n        this.validationStatus.dimensions = !!this.model.Dmnsn;\r\n        break;\r\n      case 'weight':\r\n        this.validationStatus.weight = !!this.model.Wght;\r\n        break;\r\n      case 'bayLocation':\r\n        this.validationStatus.bayLocation = !!this.model.Locn;\r\n        break;\r\n      case 'note':\r\n        this.validationStatus.note = !!this.model.Note;\r\n        break;\r\n      case 'images':\r\n        this.validationStatus.images = Array.isArray(this.imagesArray) && this.imagesArray.length > 0;\r\n        break;\r\n      case 'email':\r\n        this.validationStatus.email = !!this.model.Rpnt;\r\n        break;\r\n      default:\r\n      // Handle other fields or unknown fields here\r\n    }\r\n  }\r\n  // Define a function to validate all fields\r\n  validateFormFields() {\r\n    this.validateField('clientName');\r\n    this.validateField('shipmentNo');\r\n    this.validateField('pieces');\r\n    this.validateField('dimensions');\r\n    this.validateField('weight');\r\n    this.validateField('bayLocation');\r\n    this.validateField('note');\r\n    this.validateField('images');\r\n    this.validateField('recipients');\r\n    // Check if any field failed validation\r\n    return !Object.values(this.validationStatus).some((status) => !status);\r\n  }\r\n  // onFileChange(event: any) {\r\n  //   // const file = event.target.files[0];\r\n  //   // if (file) {\r\n  //   //   this.form.get('file')?.setValue(file);\r\n  //   //   this.convertToBase64();\r\n  //   //   this.imagesArray.push(file.name);\r\n  //   // }\r\n  //   this.selectedFile=event.target.files[0];\r\n  //   this.convertToBase64();\r\n  // }\r\n\r\n\r\n  onFileChange(event:any) {\r\n    if(this.model.ShptNmbr==''){\r\n      Swal.fire({\r\n        icon: 'info',\r\n        title: 'Information',\r\n        text: \"Please add Shipment number first\", \r\n      });\r\n      return;\r\n    }\r\n    const file:File = event.target.files[0];\r\n  \r\n    if (file) {\r\n        this.fileName = file.name;\r\n        const formData = new FormData();\r\n        formData.append(\"thumbnail\", file);\r\n\r\n        const upload$ = this.http.post(\"https://localhost:7196/api/Shipment/UploadImage\", formData, {\r\n            reportProgress: true,\r\n            observe: 'events'\r\n          //   headers: {\r\n          //     'Content-Type': 'multipart/form-data' // Ensure the proper content type is set\r\n          // }\r\n        })\r\n        .pipe(\r\n            finalize(() => this.reset())\r\n        );\r\n      \r\n        this.uploadSub = upload$.subscribe(event => {\r\n          this.uploadProgress=20;\r\n          if (event.type == HttpEventType.UploadProgress) {\r\n            if (event.total) {\r\n              this.uploadProgress = Math.round(100 * (event.loaded / event.total));\r\n          }\r\n           \r\n          }\r\n        });\r\n        this.imagesArray.push(file.name);\r\n        this.uploadProgress=100;\r\n    }\r\n}\r\n\r\ncancelUpload() {\r\nthis.uploadSub.unsubscribe();\r\nthis.reset();\r\n}\r\n\r\nreset() {\r\nthis.uploadProgress = 0;\r\nthis.uploadSub = new Subscription();\r\n\r\n}\r\n\r\n\r\n  // convertToBase64() {\r\n  //   const reader = new FileReader();\r\n  //   reader.readAsDataURL(this.selectedFile as Blob);\r\n  //   reader.onload = () => {\r\n  //     this.imageBytes = reader.result;\r\n  //   };\r\n  //   reader.onerror = (error) => {\r\n  //     console.log('Error: ', error);\r\n  //   };\r\n  // }\r\n\r\n  triggerFileInput() {\r\n    this.fileInput.nativeElement.click();\r\n  }\r\n\r\n  async generateQRCodeData(response:string[]): Promise<void> {\r\n    // const warehouseReceiptNo = 'WR1000'; // Replace with your logic to generate the receipt number\r\n     if (this.model.Qnty !== null) {\r\n       for (let i = 1; i <= this.model.Qnty; i++) {\r\n         const qrCodeData = `Receipt Number: ${response[i-1]}\\nClient: ${this.model.Name}\\nShipment No: ${this.model.ShptNmbr}`;\r\n         try {\r\n           const qrCodeUrl = await this.qrCodeService.generateQRCode(qrCodeData);\r\n           this.qrCodeData.push(qrCodeUrl);\r\n         } catch (error) {\r\n           console.error('Error generating QR code:', error);\r\n         }\r\n       }\r\n       this.apiService.qrs = this.qrCodeData;\r\n       this.apiService.rcptNmbrs=response;\r\n     }\r\n   }\r\n\r\n   ngAfterViewInit(){\r\n    this._service.info(\r\n      'Welcome',\r\n      'Welcome to the Cargo',\r\n      {\r\n        position: ['top', 'right'],\r\n          timeOut: 4000,\r\n          showProgressBar: true,\r\n          pauseOnHover: false,\r\n          clickToClose: false,\r\n          maxLength: 10\r\n      }\r\n  )\r\n}\r\n\r\ndisplayError(){\r\n  this._service.error(\r\n    'Error',\r\n    'All fields are mandatory',\r\n    {\r\n      position: ['top', 'right'],\r\n        timeOut: 4000,\r\n        showProgressBar: true,\r\n        pauseOnHover: false,\r\n        clickToClose: false,\r\n        maxLength: 10\r\n    }\r\n)\r\n}\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}